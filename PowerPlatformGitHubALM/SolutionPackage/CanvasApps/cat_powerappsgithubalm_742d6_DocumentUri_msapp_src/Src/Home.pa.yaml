Home As screen:
    BackgroundImage: =
    Width: =Max(App.Width, App.DesignWidth)
    Height: =Max(App.Height, App.DesignHeight)
    OnVisible: |-
        =ClearCollect(MyProjects, SortByColumns(Projects,"createdon", Descending));
        ClearCollect(DeploymentStages, 'Deployment Stages');

    DeleteProjectDialogHandler As toggleSwitch:
        Default: =DeleteProjectDialog.IsOpen
        Y: =40
        X: =40
        ZIndex: =1
        Width: =3
        Height: =0
        HoverBorderColor: =ColorFade(DeleteProjectDialogHandler.BorderColor, 20%)
        PressedBorderColor: =ColorFade(DeleteProjectDialogHandler.BorderColor, -20%)
        TrueHoverFill: =ColorFade(DeleteProjectDialogHandler.TrueFill, 20%)
        FalseHoverFill: =ColorFade(DeleteProjectDialogHandler.FalseFill, 20%)
        Visible: =false
        OnUncheck: |-
            =If(DeleteProjectDialog.SelectedButton.Label = "Ok", 
            Patch(Projects, glProjects.Selected, { MarkForDelete:'MarkForDelete (Projects)'.Yes});
            Back();
            Notify("Project Deleted Successfuly",NotificationType.Success));
            UpdateContext({showDeleteDialog:false})

    txtSearch As text:
        HintText: =LookUp(localStrings,Key="searchProjects").Value
        Default: =""
        Height: =46
        ZIndex: =2
        Width: =364
        Y: =108
        X: =1535
        PaddingLeft: =10
        PressedFill: =txtSearch.Fill
        HoverColor: =ColorFade(txtSearch.Color, 20%)
        PressedColor: =txtSearch.Color
        PressedBorderColor: =txtSearch.HoverBorderColor
        HoverBorderColor: =ColorFade(txtSearch.BorderColor, 20%)
        HoverFill: =ColorFade(txtSearch.Fill, 20%)

    CheckingData As Dialog:
        Title: ="user has access"
        Y: =423
        X: =602
        Height: =380
        Visible: =CheckingData.IsOpen
        OnReset: =Set(isDialogOpen, CheckingData.IsOpen)

    IconSearch As icon.Search:
        Width: =40
        Y: =109
        ZIndex: =4
        PaddingBottom: =10
        Color: =PrimaryColor2Value
        Icon: =Icon.Search
        HoverFill: =ColorFade(IconSearch.Fill, 20%)
        PaddingLeft: =10
        PressedFill: =ColorFade(IconSearch.Fill, -20%)
        PaddingRight: =10
        PaddingTop: =10
        Height: =49
        PressedColor: =ColorFade(IconSearch.Color, -20%)
        DisabledFill: =ColorFade(IconSearch.Fill, -80%)
        HoverColor: =ColorFade(IconSearch.Color, 20%)
        HoverBorderColor: =ColorFade(IconSearch.BorderColor, 20%)
        X: =App.Width - Self.Width - 20
        BorderColor: =ColorFade(IconSearch.Fill, -20%)
        PressedBorderColor: =ColorFade(IconSearch.BorderColor, -20%)

    RefreshTimer As timer:
        Duration: =10000
        AutoStart: =true
        Repeat: =true
        Start: =true
        Y: =1030
        ZIndex: =5
        Height: =50
        Width: =134
        HoverFill: =ColorFade(RefreshTimer.Fill, 20%)
        DisabledFill: =ColorFade(RefreshTimer.Fill, 70%)
        PressedColor: =RefreshTimer.Fill
        DisabledColor: =ColorFade(RefreshTimer.Fill, 90%)
        PressedBorderColor: =RefreshTimer.Fill
        BorderColor: =ColorFade(RefreshTimer.Fill, -20%)
        PressedFill: =RefreshTimer.Color
        HoverColor: =ColorFade(RefreshTimer.Color, 20%)
        HoverBorderColor: =ColorFade(RefreshTimer.BorderColor, 20%)
        DisabledBorderColor: =ColorFade(RefreshTimer.BorderColor, 70%)
        Visible: =false
        OnTimerEnd: =Select(btnRefresh)

    imgBtnNewProject As group:
        ZIndex: =5
        Height: =5
        Width: =5
        Y: =40
        X: =40

    "glProjects As gallery.'BrowseLayout_Vertical_TwoTextVariant_ver4.0'":
        Items: |-
            =SortByColumns(
                If(dpStatus.Selected.key = "All",
                Filter(Projects, MarkForDelete = 'MarkForDelete (Projects)'.'0'),
                Filter(Projects, MarkForDelete = 'MarkForDelete (Projects)'.'0' && 'Project Status' = dpStatus.Selected.value))  ,
                "createdon", Descending) As CurrentProjects
        TemplatePadding: =0
        TemplateSize: =99
        Layout: =Layout.Vertical
        ZIndex: =6
        Height: =App.Height - (Label20.Y + Label20.Height) - 20
        Width: =App.Width - 40
        Y: =245
        X: =App.Width /2 - Self.Width /2
        Fill: =RGBA(255,255, 255, 1)
        OnSelect: =

        lblProjectTitle As label:
            Text: =CurrentProjects.Name
            VerticalAlign: =VerticalAlign.Top
            PaddingBottom: =0
            PaddingRight: =0
            PaddingTop: =0
            ZIndex: =1
            FontWeight: =Normal
            Size: =16
            Height: =31
            Width: =282
            Y: =26
            X: =13
            Color: =RGBA(0, 0, 0, 1)
            Wrap: =false
            PaddingLeft: =0
            OnSelect: =

        Separator As rectangle:
            ZIndex: =4
            Height: =1
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - 1
            Fill: |-
                =ColorValue("#f4f3f2")
            BorderColor: =ColorFade(Separator.Fill, -20%)
            HoverFill: =ColorFade(Separator.Fill, 20%)
            DisabledFill: =Separator.Fill
            PressedFill: =ColorFade(Separator.Fill, -20%)
            OnSelect: =Select(Parent)

        btnDeploy As button:
            Text: =LookUp(localStrings,Key="deploy").Value
            FontWeight: =Normal
            X: =807
            ZIndex: =5
            Size: =11
            Height: =41
            Fill: =White
            DisplayMode: =If(CurrentProjects.'Project Status' <> 'Project Status'.Approved || CurrentProjects.'Deployment Status' = 'Deployment Status'.'Deployment Running' || CurrentProjects.'Deployment Status' = 'Deployment Status'.'GitHub Workflow Running'  , DisplayMode.Disabled, DisplayMode.Edit)
            Width: =188
            Color: =PrimaryColor2Value
            Y: =27
            BorderThickness: =1
            PressedColor: =btnDeploy.Fill
            PressedBorderColor: =btnDeploy.Fill
            PressedFill: =btnDeploy.Color
            HoverColor: =ColorFade(btnDeploy.Color, 20%)
            HoverBorderColor: =ColorFade(btnDeploy.BorderColor, 20%)
            BorderColor: =PrimaryColor2Value
            HoverFill: =ColorFade(btnDeploy.Fill, 20%)
            OnSelect: |-
                =UpdateContext({showDeployDialog:true})

        lblProjectStatus As label:
            Text: |
                =Upper(LookUp(localStrings,Key=Text(CurrentProjects.'Project Status')).Value)
            PaddingLeft: =0
            ZIndex: =9
            Height: =23
            FontWeight: =Semibold
            Width: =95
            Fill: =RGBA(0, 0, 0, 0)
            Y: =6
            X: =13
            Size: =9
            BorderColor: =Switch(CurrentProjects.'Project Status', 'Project Status'.Pending, RGBA(255, 191, 0, 1), 'Project Status'.Approved, RGBA(54, 176, 75, 1), 'Project Status'.Rejected, RGBA(168, 0, 0, 1))
            Color: =RGBA(51, 51, 51, 1)
            OnSelect: =Select(Parent)

        glDeploymentStages As gallery.galleryHorizontal:
            Items: =DeploymentStages
            ShowScrollbar: =false
            TemplatePadding: =0
            ZIndex: =10
            TemplateSize: =126
            Height: =66
            Width: =393
            Y: =13
            X: =1082

            rectLine As rectangle:
                X: =30
                ZIndex: =1
                Height: =4
                Width: =100
                PressedFill: =ColorFade(rectLine.Fill, -20%)
                Fill: =LightGray
                BorderColor: =ColorFade(rectLine.Fill, -20%)
                HoverFill: =ColorFade(rectLine.Fill, 20%)
                DisabledFill: =rectLine.Fill
                Visible: =ThisItem.Name <> Last('Deployment Stages').Name
                Y: =46
                OnSelect: =Select(Parent)

            iconCircle As circle:
                PressedFill: =ColorFade(iconCircle.Fill, -20%)
                ZIndex: =2
                Height: =26
                Width: =26
                X: =4
                BorderColor: =If(CurrentProjects.'Deployment Status' = 'Deployment Status'.'Deployment Failed' && CurrentProjects.'Current Stage'.Order = ThisItem.Order, Red, RGBA(237, 237, 237, 1))
                Fill: |-
                    =If(CurrentProjects.'Current Stage'.Order < ThisItem.Order || CurrentProjects.'Deployment Status' = 'Deployment Status'.'Deployment Failed' && CurrentProjects.'Current Stage'.Order = ThisItem.Order, LightGray,
                       (CurrentProjects.'Deployment Status' = 'Deployment Status'.'Deployment Running' || CurrentProjects.'Deployment Status' = 'Deployment Status'.'GitHub Workflow Running' || CurrentProjects.'Deployment Status' = 'Deployment Status'.'Deployment Failed') && CurrentProjects.'Current Stage'.Order = ThisItem.Order, ColorFade(PrimaryColor2Value,60%),
                     ColorFade(PrimaryColor2Value,20%))
                HoverFill: =ColorFade(iconCircle.Fill, 20%)
                DisabledFill: =iconCircle.Fill
                BorderThickness: =1
                Y: =33
                OnSelect: =Select(Parent)

            lblStage As label:
                Text: =ThisItem.Name 
                Width: =126
                Height: =28
                FontWeight: =Semibold
                ZIndex: =3
                Size: =10
                OnSelect: =Select(Parent)

        lblCreatedOn As label:
            Text: =CurrentProjects.'Created On'
            ZIndex: =15
            Width: =240
            Y: =26
            X: =371
            Size: =11
            OnSelect: =Select(Parent)

        imgNext As image:
            Image: |-
                ="data:image/svg+xml,"
                & EncodeUrl("<svg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'><path d='M0 0h24v24H0z' fill='none'/>
                <path fill='" &  If(CurrentProjects.'Project Status' <> 'Project Status'.Approved , "#BBBBBB", LookUp(ThemeStyles, Name = "PrimaryColor2Value").Value) & "' d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'/></svg>")
            Y: =6
            Width: =82
            Height: =85
            DisabledFill: =RGBA(0, 0, 0, 0)
            X: =glProjects.TemplateWidth - imgNext.Width -10
            HoverFill: =ColorFade(imgNext.Fill, 20%)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            BorderColor: =ColorFade(imgNext.Fill, -20%)
            PressedBorderColor: =ColorFade(imgNext.BorderColor, -20%)
            HoverBorderColor: =ColorFade(imgNext.BorderColor, 20%)
            ZIndex: =16
            DisplayMode: =If(CurrentProjects.'Project Status' <> 'Project Status'.Approved , DisplayMode.Disabled, DisplayMode.Edit)
            PressedFill: =ColorFade(imgNext.Fill, -20%)
            OnSelect: |-
                =Navigate(ProjectDetails, ScreenTransition.Fade, { SelectedProject: CurrentProjects })

        lblLinkToSolution As label:
            Text: =LookUp(localStrings,Key="openProjectSolution").Value
            X: =13
            PaddingLeft: =0
            ZIndex: =17
            Underline: =true
            Visible: =CurrentProjects.'Project Status' = 'Project Status'.Approved
            Height: =28
            Width: =239
            Y: =54
            LineHeight: =1.6
            Size: =12
            FocusedBorderThickness: =1
            Color: =RGBA(0, 134, 208, 1)
            OnSelect: |-
                =Launch("https://make.preview.powerapps.com/environments/" & CurrentProjects.Environment.Name & "/solutions/" & CurrentProjects.SolutionID, "", "_blank")

        lblDeploymentStatus As label:
            Text: |
                =Switch(CurrentProjects.'Deployment Status' ,  'Deployment Status'.'No Error', "" ,'Deployment Status'.'GitHub Workflow Running','Deployment Status'.'Deployment Running' ,LookUp(localStrings,Key=Text(CurrentProjects.'Deployment Status')).Value)
            ZIndex: =18
            Height: =52
            FontWeight: =Normal
            Width: =208
            Y: =31
            X: =1493
            Size: =11
            OnSelect: =Select(Parent)

        lblCreatedBy As label:
            Text: =CurrentProjects.'Created By'.'Full Name'
            ZIndex: =19
            Width: =171
            Y: =26
            X: =598
            Size: =11
            OnSelect: =Select(Parent)

        iconDelete As icon.Trash:
            PaddingTop: =7
            Height: =45
            Width: =45
            ZIndex: =20
            Y: =24
            X: =1743
            Color: =RGBA(102, 102, 102, 1)
            BorderColor: =ColorFade(iconDelete.Fill, -20%)
            HoverFill: =ColorFade(iconDelete.Fill, 20%)
            PaddingLeft: =7
            PaddingBottom: =7
            PaddingRight: =7
            PressedColor: =ColorFade(iconDelete.Color, -20%)
            PressedFill: =ColorFade(iconDelete.Fill, -20%)
            DisabledFill: =ColorFade(iconDelete.Fill, -80%)
            Icon: =Icon.Trash
            HoverBorderColor: =ColorFade(iconDelete.BorderColor, 20%)
            PressedBorderColor: =ColorFade(iconDelete.BorderColor, -20%)
            HoverColor: =ColorFade(iconDelete.Color, 20%)
            OnSelect: |-
                =UpdateContext({showDeleteDialog:true});

        Image2 As image:
            Image: =ic_fluent_error_circle_24_regular
            Tooltip: =CurrentProjects.'Error Message'
            X: =1463
            Y: =40
            Width: =30
            Height: =30
            PressedFill: =ColorFade(Image2.Fill, -20%)
            HoverFill: =ColorFade(Image2.Fill, 20%)
            BorderColor: =ColorFade(Image2.Fill, -20%)
            PressedBorderColor: =ColorFade(Image2.BorderColor, -20%)
            HoverBorderColor: =ColorFade(Image2.BorderColor, 20%)
            ZIndex: =21
            PaddingTop: =2
            PaddingRight: =2
            PaddingBottom: =2
            PaddingLeft: =2
            Visible: =CurrentProjects.'Project Status' = 'Project Status'.Failed || CurrentProjects.'Deployment Status' = 'Deployment Status'.'Deployment Failed'
            OnSelect: =Select(Parent)

        Icon3 As icon.Cancel:
            Icon: =Icon.Cancel
            PressedColor: =ColorFade(Icon3.Color, -20%)
            HoverColor: =ColorFade(Icon3.Color, 20%)
            DisabledFill: =ColorFade(Icon3.Fill, -80%)
            PressedFill: =ColorFade(Icon3.Fill, -20%)
            HoverFill: =ColorFade(Icon3.Fill, 20%)
            DisplayMode: =If(CurrentProjects.'Deployment Status' = 'Deployment Status'.'GitHub Workflow Running'  , DisplayMode.Edit, DisplayMode.Disabled)
            X: =1701
            Y: =27
            Width: =37
            Height: =43
            BorderColor: =ColorFade(Icon3.Fill, -20%)
            PressedBorderColor: =ColorFade(Icon3.BorderColor, -20%)
            HoverBorderColor: =ColorFade(Icon3.BorderColor, 20%)
            ZIndex: =22
            OnSelect: |-
                =Patch(Projects, glProjects.Selected, { 'Deployment Status':'Deployment Status'.'Deployment Cancelled'})

    Label4 As label:
        Text: =LookUp(localStrings,Key="newProject").Value
        Color: =RGBA(0, 0, 0, 1)
        FontWeight: =Normal
        X: =43
        Y: =104
        Width: =152
        Height: =50
        ZIndex: =7
        FocusedBorderThickness: =1
        Size: =14
        OnSelect: |-
            =UpdateContext({showProjectCreation:true})

    Icon1 As icon.Add:
        Icon: =Icon.Add
        Color: =PrimaryColor2Value
        PressedColor: =ColorFade(Icon1.Color, -20%)
        HoverColor: =ColorFade(Icon1.Color, 20%)
        DisabledFill: =ColorFade(Icon1.Fill, -80%)
        PressedFill: =ColorFade(Icon1.Fill, -20%)
        HoverFill: =ColorFade(Icon1.Fill, 20%)
        X: =8
        Y: =107
        Width: =44
        Height: =47
        BorderColor: =ColorFade(Icon1.Fill, -20%)
        PressedBorderColor: =ColorFade(Icon1.BorderColor, -20%)
        HoverBorderColor: =ColorFade(Icon1.BorderColor, 20%)
        ZIndex: =8
        FocusedBorderThickness: =1
        PaddingTop: =8
        PaddingBottom: =8
        PaddingLeft: =8
        PaddingRight: =5
        OnSelect: |-
            =UpdateContext({showProjectCreation:true})

    Label20 As label:
        Text: =Upper(LookUp(localStrings,Key="project").Value)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        X: =28
        Y: =193
        Width: =178
        ZIndex: =9
        Size: =10

    Label20_1 As label:
        Text: =Upper(LookUp(localStrings,Key="action").Value)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        Align: =Center
        X: =815
        Y: =193
        Width: =178
        ZIndex: =10
        Size: =10

    Label20_2 As label:
        Text: =Upper(LookUp(localStrings,Key="currentDeploymentEnv").Value)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        Align: =Center
        X: =1096
        Y: =193
        Width: =294
        ZIndex: =11
        Size: =10

    Label20_3 As label:
        Text: =Upper(LookUp(localStrings,Key="status").Value)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        Align: =Center
        X: =1479
        Y: =193
        Width: =223
        ZIndex: =12
        Size: =10

    SearchBox As group:
        ZIndex: =12
        Height: =5
        Width: =5
        Y: =40
        X: =40

    Label20_4 As label:
        Text: =Upper(LookUp(localStrings,Key="createdOn").Value)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        Align: =Center
        X: =358
        Y: =193
        Width: =178
        ZIndex: =13
        Size: =10

    Label20_5 As label:
        Text: =Upper(LookUp(localStrings,Key="createdBy").Value)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        Align: =Center
        X: =586
        Y: =193
        Width: =178
        ZIndex: =14
        Size: =10

    ProjectCreationDialog As group:
        ZIndex: =14
        Height: =5
        Width: =5
        Y: =40
        X: =40

    DeployDialog As group:
        X: =40
        Y: =40
        Width: =5
        Height: =5
        ZIndex: =14

    Label4_1 As label:
        Text: =LookUp(localStrings,Key="refresh").Value
        Color: =RGBA(0, 0, 0, 1)
        FontWeight: =Normal
        X: =232
        Y: =105
        Width: =162
        Height: =50
        ZIndex: =15
        FocusedBorderThickness: =1
        Size: =14
        OnSelect: |-
            =Refresh(Projects);
            //ClearCollect(MyProjects, AddColumns(SortByColumns(Projects,"createdon", Descending), "Stage", 'Current Stage'))

    btnRefresh As icon.Add:
        Height: =47
        Width: =36
        PaddingRight: =5
        Y: =108
        PaddingLeft: =8
        PaddingBottom: =8
        PaddingTop: =8
        X: =195
        Color: =PrimaryColor2Value
        Icon: =Icon.Reload
        FocusedBorderThickness: =1
        ZIndex: =16
        HoverBorderColor: =ColorFade(btnRefresh.BorderColor, 20%)
        PressedBorderColor: =ColorFade(btnRefresh.BorderColor, -20%)
        BorderColor: =ColorFade(btnRefresh.Fill, -20%)
        HoverFill: =ColorFade(btnRefresh.Fill, 20%)
        PressedFill: =ColorFade(btnRefresh.Fill, -20%)
        DisabledFill: =ColorFade(btnRefresh.Fill, -80%)
        HoverColor: =ColorFade(btnRefresh.Color, 20%)
        PressedColor: =ColorFade(btnRefresh.Color, -20%)
        OnSelect: |-
            =Refresh(Projects);
            //ClearCollect(MyProjects, AddColumns(SortByColumns(Projects,"createdon", Descending), "Stage", 'Current Stage'))

    dpStatus As dropdown:
        Items: =ProjectStatus
        Default: ="1"
        AccessibleLabel: =""
        ZIndex: =17
        Height: =46
        Y: =108
        X: =1193
        PressedColor: =dpStatus.Fill
        PressedBorderColor: =dpStatus.HoverBorderColor
        HoverBorderColor: =ColorFade(dpStatus.BorderColor, 20%)
        PressedFill: =dpStatus.Color
        HoverColor: =ColorFade(dpStatus.Color, 20%)
        HoverFill: =ColorFade(dpStatus.SelectionFill, 40%)
        ChevronHoverBackground: =ColorFade(dpStatus.ChevronBackground, 20%)
        ChevronHoverFill: =ColorFade(dpStatus.ChevronFill, 20%)

    lbHeader As label:
        Text: ="ALM Accelerator for Makers"
        Align: =Center
        ZIndex: =18
        FontWeight: =Semibold
        Height: =68
        Width: =1920
        Size: =20
        Fill: =PrimaryColor2Value
        Font: =Font.'Segoe UI'
        Color: =RGBA(255, 255, 255, 1)

    DeleteProjectDialog As Dialog:
        OpenClose: =showDeleteDialog
        Buttons: |-
            =Table({Label: "Cancel", Fill:"#FFFFFF", Color:LookUp(ThemeStyles, Name = "PrimaryColor2Value").Value} ,{Label: "Ok", Fill:LookUp(ThemeStyles, Name = "PrimaryColor2Value").Value, Color:"#FFFFFF"})
        Title: =LookUp(localStrings,Key="deleteProject").Value
        Description: ="All resources associated with the project will be deleted. Are you sure you would like to proceed ?"
        ZIndex: =20
        Visible: =DeleteProjectDialog.IsOpen
        Width: =1920
        Height: =1080
        OnReset: =Set(isDialogOpen, DeleteProjectDialog.IsOpen)

    imgBtnOnRefresh As group:
        X: =40
        Y: =40
        Width: =5
        Height: =5
        ZIndex: =20

    rectOverlay As rectangle:
        ZIndex: =21
        Height: =1080
        Width: =1920
        Fill: =RGBA(0, 0, 0, 0.9)
        BorderColor: =ColorFade(rectOverlay.Fill, -20%)
        HoverFill: =rectOverlay.Fill
        PressedFill: =rectOverlay.Fill
        DisabledFill: =rectOverlay.Fill
        Visible: =showProjectCreation

    gpTableHeader As group:
        ZIndex: =21
        Height: =5
        Width: =5
        Y: =40
        X: =40

    PopUp As groupContainer:
        ZIndex: =22
        DisplayMode: =DisplayMode.Edit
        Height: =731
        Width: =898
        Y: =174
        X: =511
        Fill: =RGBA(0, 0, 0, 0)
        BorderStyle: =BorderStyle.Solid
        BorderColor: =RGBA(0, 0, 0, 1)
        Visible: =showProjectCreation

        rectPCD As rectangle:
            ZIndex: =1
            Height: =516
            Width: =818
            Y: =40
            X: =40
            Fill: =RGBA(255, 255, 255, 1)
            BorderColor: =ColorFade(rectPCD.Fill, -20%)
            HoverFill: =ColorFade(rectPCD.Fill, 20%)
            PressedFill: =ColorFade(rectPCD.Fill, -20%)
            DisabledFill: =rectPCD.Fill

        btnCreateProject As button:
            Text: =Upper(LookUp(localStrings,Key="createProject").Value)
            X: =536
            ZIndex: =2
            Height: =46
            DisplayMode: =If(IsBlank(txtProjectName.Text), DisplayMode.Disabled, DisplayMode.Edit)
            Width: =295
            Y: =488
            BorderThickness: =0
            PressedColor: =btnCreateProject.Fill
            PressedBorderColor: =btnCreateProject.Fill
            PressedFill: =btnCreateProject.Color
            HoverColor: =ColorFade(btnCreateProject.Color, 20%)
            HoverBorderColor: =ColorFade(btnCreateProject.BorderColor, 20%)
            BorderColor: =PrimaryColor2Value
            HoverFill: =ColorFade(btnCreateProject.Fill, 20%)
            OnSelect: |-
                =UpdateContext({showProjectCreation:false});
                Patch(Projects, Defaults(Projects), { 'Org Name': OrgName , Name: txtProjectName.Text, Description: txtDescription.Text, 'Current Stage': LookUp('Deployment Stages', Name = "DEV"), 'Project Status': [@'Project Status'].Pending });
                Reset(txtProjectName);
                Reset(txtDescription)

        txtProjectName As text:
            HintText: =""
            Default: =""
            ZIndex: =3
            Height: =45
            Width: =759
            Y: =213
            X: =72
            HoverFill: =ColorFade(txtProjectName.Fill, 20%)
            PressedFill: =txtProjectName.Fill
            HoverColor: =ColorFade(txtProjectName.Color, 20%)
            PressedColor: =txtProjectName.Color
            PressedBorderColor: =txtProjectName.HoverBorderColor
            HoverBorderColor: =ColorFade(txtProjectName.BorderColor, 20%)

        lbPCDTitle As label:
            Text: =LookUp(localStrings,Key="projectStar").Value
            ZIndex: =4
            FontWeight: =FontWeight.Semibold
            Y: =173
            X: =72
            PaddingLeft: =0

        txtDescription As text:
            HintText: =""
            Default: =""
            ZIndex: =5
            Height: =135
            Width: =758
            Y: =320
            X: =72
            Mode: =TextMode.MultiLine
            HoverFill: =ColorFade(txtDescription.Fill, 20%)
            PressedFill: =txtDescription.Fill
            HoverColor: =ColorFade(txtDescription.Color, 20%)
            PressedColor: =txtDescription.Color
            PressedBorderColor: =txtDescription.HoverBorderColor
            HoverBorderColor: =ColorFade(txtDescription.BorderColor, 20%)

        lbPCDDescription As label:
            Text: =LookUp(localStrings,Key="description").Value
            ZIndex: =6
            FontWeight: =FontWeight.Semibold
            Height: =45
            Y: =275
            X: =72
            PaddingLeft: =0

        lblPCD As label:
            Text: =Upper(LookUp(localStrings,Key="projectCreation").Value)
            Align: =Center
            ZIndex: =7
            FontWeight: =FontWeight.Semibold
            Height: =55
            Width: =818
            Size: =18
            Y: =40
            Fill: =RGBA(0, 0, 0, 0)
            X: =40

        Icon4 As icon.Cancel:
            Icon: =Icon.Cancel
            PressedColor: =ColorFade(Icon4.Color, -20%)
            HoverColor: =ColorFade(Icon4.Color, 20%)
            DisabledFill: =ColorFade(Icon4.Fill, -80%)
            PressedFill: =ColorFade(Icon4.Fill, -20%)
            HoverFill: =ColorFade(Icon4.Fill, 20%)
            X: =814
            Y: =40
            Width: =44
            Height: =52
            BorderColor: =ColorFade(Icon4.Fill, -20%)
            PressedBorderColor: =ColorFade(Icon4.BorderColor, -20%)
            HoverBorderColor: =ColorFade(Icon4.BorderColor, 20%)
            ZIndex: =8
            PaddingTop: =10
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            OnSelect: |-
                =UpdateContext({showProjectCreation:false});Reset(txtProjectName);Reset(txtDescription)

    rectDDOverlay As rectangle:
        BorderColor: =ColorFade(rectDDOverlay.Fill, -20%)
        DisabledFill: =rectDDOverlay.Fill
        PressedFill: =rectDDOverlay.Fill
        HoverFill: =rectDDOverlay.Fill
        Fill: =RGBA(0, 0, 0, 0.9)
        Visible: =showDeployDialog
        Width: =1920
        Height: =1080
        ZIndex: =23

    PopUp_1 As groupContainer:
        ZIndex: =24
        DisplayMode: =DisplayMode.Edit
        Height: =731
        Width: =898
        Y: =174
        X: =511
        Fill: =RGBA(0, 0, 0, 0)
        BorderStyle: =BorderStyle.Solid
        BorderColor: =RGBA(0, 0, 0, 1)
        Visible: =showDeployDialog

        rectDD As rectangle:
            ZIndex: =1
            Height: =651
            Width: =818
            Y: =40
            X: =40
            Fill: =RGBA(255, 255, 255, 1)
            BorderColor: =ColorFade(rectDD.Fill, -20%)
            HoverFill: =ColorFade(rectDD.Fill, 20%)
            PressedFill: =ColorFade(rectDD.Fill, -20%)
            DisabledFill: =rectDD.Fill

        btnDDDeploy As button:
            Text: =LookUp(localStrings,Key="deploy").Value
            X: =520
            ZIndex: =2
            Height: =46
            Width: =295
            Y: =615
            PressedColor: =btnDDDeploy.Fill
            PressedBorderColor: =btnDDDeploy.Fill
            PressedFill: =btnDDDeploy.Color
            HoverColor: =ColorFade(btnDDDeploy.Color, 20%)
            HoverBorderColor: =ColorFade(btnDDDeploy.BorderColor, 20%)
            HoverFill: =ColorFade(btnDDDeploy.Fill, 20%)
            OnSelect: |-
                =UpdateContext({showDeployDialog:false});
                
                Patch(BuildRequests, Defaults(BuildRequests), {'Target Environment URL':ddEnvirohments.Selected.'Target Environment URL', 'Target Environment': ddEnvirohments.Selected.'Target Environment Name', Comment:rteComment.Text, Project: glProjects.Selected,  Stage: ddEnvirohments.Selected });
                
                Patch(Projects, glProjects.Selected, { 'Deployment Status': 'Deployment Status'.'Deployment Running' } );
                
                Select(btnRefresh);

        lbDDTitle As label:
            Text: =LookUp(localStrings,Key="environment").Value
            ZIndex: =4
            FontWeight: =FontWeight.Semibold
            Y: =157
            X: =84
            PaddingLeft: =0

        lbDDNote As label:
            Text: =LookUp(localStrings,Key="notes").Value
            ZIndex: =6
            FontWeight: =FontWeight.Semibold
            Height: =45
            Y: =264
            X: =84
            PaddingLeft: =0

        lblDD As label:
            Text: |-
                =Substitute(LookUp(localStrings,Key="deployAppTo").Value, "#env", ddEnvirohments.SelectedText.Value)
            Align: =Center
            ZIndex: =7
            FontWeight: =Semibold
            Height: =54
            Width: =680
            Size: =20
            Y: =54
            X: =114

        iconDDClose As icon.Cancel:
            PaddingTop: =10
            Height: =52
            Width: =44
            ZIndex: =8
            Y: =43
            X: =808
            BorderColor: =ColorFade(iconDDClose.Fill, -20%)
            HoverFill: =ColorFade(iconDDClose.Fill, 20%)
            PaddingLeft: =10
            PaddingBottom: =10
            PaddingRight: =10
            PressedColor: =ColorFade(iconDDClose.Color, -20%)
            PressedFill: =ColorFade(iconDDClose.Fill, -20%)
            DisabledFill: =ColorFade(iconDDClose.Fill, -80%)
            Icon: =Icon.Cancel
            HoverBorderColor: =ColorFade(iconDDClose.BorderColor, 20%)
            PressedBorderColor: =ColorFade(iconDDClose.BorderColor, -20%)
            HoverColor: =ColorFade(iconDDClose.Color, 20%)
            OnSelect: |-
                =UpdateContext({showDeployDialog:false})

        ddEnvirohments As dropdown:
            Items: |-
                =If(glProjects.Selected.'Current Stage'.Order = 1 ||  (glProjects.Selected.'Current Stage'.Order = 2  && glProjects.Selected.'Deployment Status' = 'Deployment Status'.'Deployment Failed') ||  (glProjects.Selected.'Current Stage'.Order = 2  && glProjects.Selected.'Deployment Status' = 'Deployment Status'.'Deployment Cancelled'), Filter('Deployment Stages', Order = 2),  Filter('Deployment Stages', BuildEnabled = 'BuildEnabled (Deployment Stages)'.Yes))
                 
            Default: =LookUp('Deployment Stages', Order =  glProjects.Selected.'Current Stage'.Order + 1).Name
            ZIndex: =9
            Width: =731
            Y: =197
            X: =84
            PressedColor: =ddEnvirohments.Fill
            PressedBorderColor: =ddEnvirohments.HoverBorderColor
            HoverBorderColor: =ColorFade(ddEnvirohments.BorderColor, 20%)
            PressedFill: =ddEnvirohments.Color
            HoverColor: =ColorFade(ddEnvirohments.Color, 20%)
            HoverFill: =ColorFade(ddEnvirohments.SelectionFill, 20%)
            ChevronHoverBackground: =ColorFade(ddEnvirohments.ChevronBackground, 20%)
            ChevronHoverFill: =ColorFade(ddEnvirohments.ChevronFill, 20%)

        rteComment As text:
            Default: =""
            ZIndex: =11
            Height: =229
            Width: =730
            Y: =309
            X: =84
            Mode: =TextMode.MultiLine
            HoverFill: =ColorFade(rteComment.Fill, 20%)
            PressedFill: =rteComment.Fill
            HoverColor: =ColorFade(rteComment.Color, 20%)
            PressedColor: =rteComment.Color
            PressedBorderColor: =rteComment.HoverBorderColor
            HoverBorderColor: =ColorFade(rteComment.BorderColor, 20%)

