Home As screen:
    BackgroundImage: =
    Width: =Max(App.Width, App.DesignWidth)
    Height: =Max(App.Height, App.DesignHeight)
    OnVisible: |
        =ClearCollect(Environments,  PowerPlatformforAdmins.GetAdminEnvironment().value );
        ClearCollect(DeploymentEnvironment, AddColumns(Environments, "DisplayName", properties.displayName, "org", properties.linkedEnvironmentMetadata.instanceUrl)); 

    "glDeploymentStages As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver4.0'":
        Items: ='Deployment Stages'
        Layout: =Layout.Vertical
        TemplatePadding: =0
        TemplateSize: =54
        ZIndex: =1
        Height: =180
        Width: =1777
        Y: =235
        X: =45

        Title1 As label:
            Text: =ThisItem.Name
            VerticalAlign: =VerticalAlign.Top
            Y: =16
            Width: =114
            Height: =36
            ZIndex: =1
            PaddingTop: =0
            PaddingRight: =0
            PaddingBottom: =0
            PaddingLeft: =0
            Size: =14
            OnSelect: =Select(Parent)

        TextInput1 As text:
            Default: =ThisItem.Username
            PressedBorderColor: =TextInput1.HoverBorderColor
            HoverBorderColor: =ColorFade(TextInput1.BorderColor, 20%)
            PressedColor: =TextInput1.Color
            HoverColor: =ColorFade(TextInput1.Color, 20%)
            PressedFill: =TextInput1.Fill
            HoverFill: =ColorFade(TextInput1.Fill, 20%)
            X: =982
            Y: =14
            Width: =334
            Height: =36
            ZIndex: =6
            OnSelect: =Select(Parent)

        TextInput1_1 As text:
            Default: =ThisItem.Password
            Mode: =TextMode.Password
            PressedBorderColor: =TextInput1_1.HoverBorderColor
            HoverBorderColor: =ColorFade(TextInput1_1.BorderColor, 20%)
            PressedColor: =TextInput1_1.Color
            HoverColor: =ColorFade(TextInput1_1.Color, 20%)
            PressedFill: =TextInput1_1.Fill
            HoverFill: =ColorFade(TextInput1_1.Fill, 20%)
            X: =1330
            Y: =14
            Width: =235
            Height: =36
            ZIndex: =7
            OnSelect: =Select(Parent)

        ComboBox2_1 As combobox:
            DisplayFields: =["DisplayName","org"]
            SearchFields: =["DisplayName"]
            SelectMultiple: =false
            DefaultSelectedItems: =LookUp(DeploymentEnvironment, name = ThisItem.'Target Environment Name')
            Default: =LookUp(DeploymentEnvironment, name = ThisItem.'Target Environment Name')
            Items: =DeploymentEnvironment
            SearchItems: =Search(DeploymentEnvironment,ComboBox2_1.SearchText,"DisplayName")
            DisplayMode: =If(ThisItem.Name = "DEV", DisplayMode.Disabled, DisplayMode.Edit)
            Template: =ListItemTemplate.Double
            ChevronHoverFill: =ColorFade(ComboBox2_1.ChevronFill, 20%)
            ChevronHoverBackground: =ColorFade(ComboBox2_1.ChevronBackground, 20%)
            SelectionFill: =ColorFade(PrimaryColor2Value, 90%)
            HoverColor: =ColorFade(ComboBox2_1.Color, 20%)
            HoverBorderColor: =ColorFade(ComboBox2_1.BorderColor, 20%)
            PressedBorderColor: =ComboBox2_1.HoverBorderColor
            MoreItemsButtonColor: =Self.ChevronBackground
            HoverFill: =ColorFade(ComboBox2_1.SelectionFill, 20%)
            X: =235
            Y: =10
            Width: =387
            ZIndex: =10

        btnUpdate As button:
            Text: ="Update"
            X: =1596
            ZIndex: =13
            Size: =14
            Y: =16
            PressedColor: =btnUpdate.Fill
            PressedBorderColor: =btnUpdate.Fill
            PressedFill: =btnUpdate.Color
            HoverColor: =ColorFade(btnUpdate.Color, 20%)
            HoverBorderColor: =ColorFade(btnUpdate.BorderColor, 20%)
            HoverFill: =ColorFade(btnUpdate.Fill, 20%)
            Height: =36
            OnSelect: |-
                =Patch('Deployment Stages', ThisItem, { 'Target Environment Name': ComboBox2_1.Selected.name, 'Target Environment URL': ComboBox2_1.Selected.org, Username:TextInput1.Text, Password:TextInput1_1.Text, 'Stage Owner': txtStageOwner.Text })

        txtStageOwner As text:
            Default: =ThisItem.'Stage Owner'
            ZIndex: =14
            Height: =36
            Width: =334
            Y: =14
            X: =635
            HoverFill: =ColorFade(txtStageOwner.Fill, 20%)
            PressedFill: =txtStageOwner.Fill
            HoverColor: =ColorFade(txtStageOwner.Color, 20%)
            PressedColor: =txtStageOwner.Color
            PressedBorderColor: =txtStageOwner.HoverBorderColor
            HoverBorderColor: =ColorFade(txtStageOwner.BorderColor, 20%)
            OnSelect: =Select(Parent)

    lbHeader As label:
        Text: ="PowerOps Admin"
        Align: =Center
        ZIndex: =18
        FontWeight: =Semibold
        Height: =68
        Width: =1920
        Size: =20
        Fill: =PrimaryColor2Value
        Font: =Font.'Segoe UI'
        Color: =RGBA(255, 255, 255, 1)

    lblDeploymentStages As label:
        Text: ="Deployment Stages"
        ZIndex: =20
        FontWeight: =Semibold
        Width: =384
        Size: =20
        Y: =131
        X: =45
        PaddingLeft: =0

    txtWebhookUrl As text:
        Default: =LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_WebhookUrl").Value
        ZIndex: =21
        Width: =1602
        Y: =622
        X: =45
        PressedFill: =txtWebhookUrl.Fill
        HoverColor: =ColorFade(txtWebhookUrl.Color, 20%)
        PressedColor: =txtWebhookUrl.Color
        PressedBorderColor: =txtWebhookUrl.HoverBorderColor
        HoverBorderColor: =ColorFade(txtWebhookUrl.BorderColor, 20%)
        Size: =12
        HoverFill: =ColorFade(txtWebhookUrl.Fill, 20%)

    lblWebhookUrl As label:
        Text: ="Webhook Url"
        ZIndex: =22
        FontWeight: =Semibold
        Width: =384
        Size: =14
        Y: =584
        X: =45
        PaddingLeft: =0
        Color: =RGBA(77, 77, 77, 1)

    Label20 As label:
        Text: ="Stage name"
        Color: =RGBA(77, 77, 77, 1)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        X: =45
        Y: =195
        Width: =178
        ZIndex: =23
        Size: =10
        PaddingLeft: =0

    Label20_1 As label:
        Text: ="Environment"
        Color: =RGBA(77, 77, 77, 1)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        X: =279
        Y: =195
        Width: =178
        ZIndex: =25
        Size: =10
        PaddingLeft: =0

    btnWebhookUrl As button:
        Text: ="Update"
        X: =1662
        ZIndex: =26
        Size: =14
        Width: =144
        Y: =622
        PressedColor: =btnWebhookUrl.Fill
        PressedBorderColor: =btnWebhookUrl.Fill
        PressedFill: =btnWebhookUrl.Color
        HoverColor: =ColorFade(btnWebhookUrl.Color, 20%)
        HoverBorderColor: =ColorFade(btnWebhookUrl.BorderColor, 20%)
        HoverFill: =ColorFade(btnWebhookUrl.Fill, 20%)
        OnSelect: |-
            =Patch('Environment Variable Values', LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_WebhookUrl"), { Value : txtWebhookUrl.Text });

    Label20_2 As label:
        Text: ="Admin username"
        Color: =RGBA(77, 77, 77, 1)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        X: =1033
        Y: =195
        Width: =178
        ZIndex: =27
        Size: =10
        PaddingLeft: =0

    Label20_3 As label:
        Text: ="Admin password"
        Color: =RGBA(77, 77, 77, 1)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        X: =1385
        Y: =195
        Width: =178
        ZIndex: =28
        Size: =10
        PaddingLeft: =0

    Label20_4 As label:
        Text: ="Stage Owner Email"
        Color: =RGBA(77, 77, 77, 1)
        Font: =Font.'Segoe UI'
        FontWeight: =Semibold
        X: =681
        Y: =195
        Width: =178
        ZIndex: =29
        Size: =10
        PaddingLeft: =0

    txtClientID As text:
        Default: =LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_clientid").Value
        Size: =12
        ZIndex: =30
        Width: =1602
        Y: =719
        X: =45
        HoverFill: =ColorFade(txtClientID.Fill, 20%)
        PressedFill: =txtClientID.Fill
        HoverColor: =ColorFade(txtClientID.Color, 20%)
        PressedColor: =txtClientID.Color
        PressedBorderColor: =txtClientID.HoverBorderColor
        HoverBorderColor: =ColorFade(txtClientID.BorderColor, 20%)

    lblClientID As label:
        Text: ="Client ID"
        Size: =14
        ZIndex: =31
        PaddingLeft: =0
        Width: =384
        Y: =679
        X: =45
        FontWeight: =Semibold
        Color: =RGBA(77, 77, 77, 1)

    btnClientidUpdate As button:
        Text: ="Update"
        Size: =14
        ZIndex: =32
        Width: =144
        Y: =719
        X: =1662
        HoverFill: =ColorFade(btnClientidUpdate.Fill, 20%)
        PressedColor: =btnClientidUpdate.Fill
        PressedBorderColor: =btnClientidUpdate.Fill
        PressedFill: =btnClientidUpdate.Color
        HoverColor: =ColorFade(btnClientidUpdate.Color, 20%)
        HoverBorderColor: =ColorFade(btnClientidUpdate.BorderColor, 20%)
        OnSelect: |-
            =Patch('Environment Variable Values', LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_clientId"), { Value : txtClientID.Text });

    txtOrg As text:
        Default: =LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_OrgName").Value
        Size: =12
        ZIndex: =33
        Width: =1602
        Y: =817
        X: =45
        HoverFill: =ColorFade(txtOrg.Fill, 20%)
        PressedFill: =txtOrg.Fill
        HoverColor: =ColorFade(txtOrg.Color, 20%)
        PressedColor: =txtOrg.Color
        PressedBorderColor: =txtOrg.HoverBorderColor
        HoverBorderColor: =ColorFade(txtOrg.BorderColor, 20%)

    lblOrg As label:
        Text: ="GITHUB ORG NAME"
        Size: =14
        ZIndex: =34
        PaddingLeft: =0
        Width: =384
        Y: =777
        X: =45
        FontWeight: =Semibold
        Color: =RGBA(77, 77, 77, 1)

    btnOrgUpdate As button:
        Text: ="Update"
        Size: =14
        ZIndex: =35
        Width: =144
        Y: =817
        X: =1662
        HoverFill: =ColorFade(btnOrgUpdate.Fill, 20%)
        PressedColor: =btnOrgUpdate.Fill
        PressedBorderColor: =btnOrgUpdate.Fill
        PressedFill: =btnOrgUpdate.Color
        HoverColor: =ColorFade(btnOrgUpdate.Color, 20%)
        HoverBorderColor: =ColorFade(btnOrgUpdate.BorderColor, 20%)
        OnSelect: |-
            =Patch('Environment Variable Values', LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_OrgName"), { Value : txtOrg.Text });

    lblEnv As label:
        Text: ="Environement Variables"
        Size: =20
        ZIndex: =36
        PaddingLeft: =0
        Width: =384
        Y: =446
        X: =45
        FontWeight: =Semibold

    glDeploymentHeader As group:
        ZIndex: =37
        Height: =5
        Width: =5
        Y: =40
        X: =40

    lblClientID_1 As label:
        Text: ="GitHub Plan Exists"
        Size: =14
        ZIndex: =38
        PaddingLeft: =0
        Width: =384
        Y: =977
        X: =45
        FontWeight: =Semibold
        Color: =RGBA(77, 77, 77, 1)

    txtLanguage As text:
        Default: =LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_OrgLanguage").Value
        PressedFill: =txtLanguage.Fill
        HoverFill: =ColorFade(txtLanguage.Fill, 20%)
        PressedColor: =txtLanguage.Color
        HoverColor: =ColorFade(txtLanguage.Color, 20%)
        PressedBorderColor: =txtLanguage.HoverBorderColor
        HoverBorderColor: =ColorFade(txtLanguage.BorderColor, 20%)
        X: =45
        Y: =904
        Width: =1602
        ZIndex: =40
        Size: =12

    lblOrg_1 As label:
        Text: ="Language"
        Size: =14
        ZIndex: =41
        PaddingLeft: =0
        Width: =384
        Y: =864
        X: =45
        FontWeight: =Semibold
        Color: =RGBA(77, 77, 77, 1)

    btnOrgUpdate_1 As button:
        Text: ="Update"
        Size: =14
        ZIndex: =42
        Width: =144
        Y: =904
        X: =1662
        HoverFill: =ColorFade(btnOrgUpdate_1.Fill, 20%)
        PressedColor: =btnOrgUpdate_1.Fill
        PressedBorderColor: =btnOrgUpdate_1.Fill
        PressedFill: =btnOrgUpdate_1.Color
        HoverColor: =ColorFade(btnOrgUpdate_1.Color, 20%)
        HoverBorderColor: =ColorFade(btnOrgUpdate_1.BorderColor, 20%)
        OnSelect: |-
            =Patch('Environment Variable Values', LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_OrgLanguage"), { Value : txtLanguage.Text });

    Toggle1 As toggleSwitch:
        Default: =If(IsBlank(LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_GitHubOrgPlanExist").Value) || LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_GitHubOrgPlanExist").Value = "no", false, true)
        FalseFill: =Gray
        FalseHoverFill: =ColorFade(Toggle1.FalseFill, 20%)
        TrueHoverFill: =ColorFade(Toggle1.TrueFill, 20%)
        PressedBorderColor: =ColorFade(Toggle1.BorderColor, -20%)
        HoverBorderColor: =ColorFade(Toggle1.BorderColor, 20%)
        X: =45
        Y: =1023
        ZIndex: =43
        OnCheck: |-
            =Patch('Environment Variable Values', LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_GitHubOrgPlanExist"), { Value : "yes" });
        OnUncheck: |-
            =Patch('Environment Variable Values', LookUp('Environment Variable Values', 'Environment Variable Definition'.'Schema Name' = "cat_GitHubOrgPlanExist"), { Value : "no" });

